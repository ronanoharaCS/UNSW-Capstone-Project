{"remainingRequest":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/babel-loader/lib/index.js!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/src/components/common/SaveTrend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/src/components/common/SaveTrend.vue","mtime":1605511148968},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1YiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saWFtZGFsZS9PbmVEcml2ZS9VbmkvQ09NUC8yMFQzL2NhcHN0b25lLXByb2plY3QtY29tcDM5MDAtdzE3YS0yMTItbW9ub2xpdGgvdGhlTmV3c3Jvb20vZnJvbnQtZW5kLWNsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9saWFtZGFsZS9PbmVEcml2ZS9VbmkvQ09NUC8yMFQzL2NhcHN0b25lLXByb2plY3QtY29tcDM5MDAtdzE3YS0yMTItbW9ub2xpdGgvdGhlTmV3c3Jvb20vZnJvbnQtZW5kLWNsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgQ1JFQVRFX1VTRVJfQ09ORklHIGZyb20gJy4uLy4uL2dyYXBocWwvY3JlYXRlVXNlckNvbmZpZ3VyYXRpb24uZ3FsJzsKaW1wb3J0IENSRUFURV9UT1BJQ19DT05GSUcgZnJvbSAnLi4vLi4vZ3JhcGhxbC9jcmVhdGVUb3BpY0NvbmZpZ3VyYXRpb24uZ3FsJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB2YWx1ZTogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiBudWxsLAogICAgICBzYXZlOiBmYWxzZSwKICAgICAgY29uZmlnX2lkOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2dldFNlbGVjdGVkJ10pKSwge30sIHsKICAgIHNob3c6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ3NhdmVUcmVuZCddKSksIHt9LCB7CiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuc2F2ZSA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCdzYXZlZCcpOwogICAgfSwKICAgIHNhdmVUcmVuZFNlbGVjdGlvbjogZnVuY3Rpb24gc2F2ZVRyZW5kU2VsZWN0aW9uKGNvbmZpZ05hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoY29uZmlnTmFtZS5sZW5ndGggPiAzICYmIGNvbmZpZ05hbWUubGVuZ3RoIDw9IDIwICYmIF90aGlzLmdldFNlbGVjdGVkLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25maWdOYW1lID0gY29uZmlnTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNvbmZpZ05hbWUuc2xpY2UoMSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jcmVhdGVVc2VyQ29uZmlnKGNvbmZpZ05hbWUpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlYXRlVXNlckNvbmZpZzogZnVuY3Rpb24gY3JlYXRlVXNlckNvbmZpZyhjb25maWdOYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHVzcklkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c3JJZCA9IF90aGlzMi4kYXV0aC51c2VyLnN1YjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGFwb2xsby5tdXRhdGUoewogICAgICAgICAgICAgICAgICBtdXRhdGlvbjogQ1JFQVRFX1VTRVJfQ09ORklHLAogICAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgICAgICAgICBjb25maWdOYW1lOiBjb25maWdOYW1lLAogICAgICAgICAgICAgICAgICAgIHVzcklkOiB1c3JJZAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShzdG9yZSwgX3JlZikgewogICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVVc2VyY29uZmlndXJhdGlvbiA9IF9yZWYuZGF0YS5jcmVhdGVVc2VyY29uZmlndXJhdGlvbjsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNyZWF0ZVRvcGljQ29uZmlnKGNyZWF0ZVVzZXJjb25maWd1cmF0aW9uLnVzZXJjb25maWd1cmF0aW9uLmlkKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNyZWF0ZVRvcGljQ29uZmlnOiBmdW5jdGlvbiBjcmVhdGVUb3BpY0NvbmZpZyh1c3JDb25maWdJZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBpLCB0b3BpY0lkLCB0b3BpY05hbWU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgX3RoaXMzLmdldFNlbGVjdGVkLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0b3BpY0lkID0gX3RoaXMzLmdldFNlbGVjdGVkW2ldLmlkOwogICAgICAgICAgICAgICAgdG9waWNOYW1lID0gX3RoaXMzLmdldFNlbGVjdGVkW2ldLm5hbWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICAgICAgICAgICAgbXV0YXRpb246IENSRUFURV9UT1BJQ19DT05GSUcsCiAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgICAgICAgIHVzckNvbmZpZ0lkOiB1c3JDb25maWdJZCwKICAgICAgICAgICAgICAgICAgICB0b3BpY0lkOiB0b3BpY0lkLAogICAgICAgICAgICAgICAgICAgIHRvcGljTmFtZTogdG9waWNOYW1lCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VuZCBjcmVhdGUgdG9waWMnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["SaveTrend.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<v-dialog v-model=\"save\" max-width=\"600px\" max-height=\"100px\">\n    <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn depressed rounded v-bind=\"attrs\" v-on=\"on\">\n            Save\n        </v-btn>\n    </template>\n    <v-card class=\"flex-wrap text-justify justify-space-between\">\n        <v-card-title>\n            <span class=\"headline\">Save Trend Selection</span>\n        </v-card-title>\n        <v-card-text>\n            <v-text-field v-model='title' :rules=\"[\n                () => !!title || 'This field is required',\n                () => !!title && this.getSelected.length > 0 || 'Please select a topic first', \n                () => !!title && title.length > 3 || 'Name must have more than 3 characters',\n                () => !!title && title.length <= 25 || 'Name must be less than 20 characters', \n                ]\" placeholder=\"Enter a name for your selection\" counter=\"20\" />\n        </v-card-text>\n        <v-card-actions>\n            <v-spacer />\n            <v-btn depressed rounded @click.stop=\"close\">\n                Close\n            </v-btn>\n            <v-btn depressed rounded @click=\"saveTrendSelection(title)\">\n                Save\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</v-dialog>\n</template>\n\n<script>\nimport {\n    mapGetters,\n    mapMutations\n} from 'vuex';\n\nimport CREATE_USER_CONFIG from '../../graphql/createUserConfiguration.gql'\nimport CREATE_TOPIC_CONFIG from '../../graphql/createTopicConfiguration.gql'\n\nexport default {\n    props: {\n        value: Boolean\n    },\n    data: () => ({\n        title: null,\n        save: false,\n        config_id: null\n    }),\n    computed: {\n        ...mapGetters(['getSelected']),\n        show: {\n            get() {\n                return this.value\n            },\n            set(value) {\n                this.$emit('input', value)\n            }\n        }\n    },\n    methods: {\n        ...mapMutations([\n            'saveTrend'\n        ]),\n        close() {\n            this.save = false\n            this.$emit('saved');\n        },\n        async saveTrendSelection(configName) {\n            if (configName.length > 3 && configName.length <= 20 && this.getSelected.length > 0) {\n                configName = configName.charAt(0).toUpperCase() + configName.slice(1)\n                await this.createUserConfig(configName)\n                this.close()\n            }\n        },\n        async createUserConfig(configName) {\n            var usrId = this.$auth.user.sub\n            await this.$apollo.mutate({\n                mutation: CREATE_USER_CONFIG,\n                variables: {\n                    configName,\n                    usrId\n                },\n                update: (store, { data: { createUserconfiguration } }) => {\n                    this.createTopicConfig(createUserconfiguration.userconfiguration.id)\n                },\n            })\n        },\n        async createTopicConfig(usrConfigId) {\n            var i\n            for (i = 0; i < this.getSelected.length; i++) {\n                var topicId = this.getSelected[i].id\n                var topicName = this.getSelected[i].name\n                await this.$apollo.mutate({\n                mutation: CREATE_TOPIC_CONFIG,\n                    variables: {\n                        usrConfigId,\n                        topicId,\n                        topicName\n                    }\n                })\n            }\n            console.log('end create topic')\n        }\n    },\n}\n</script>\n"],"sourceRoot":"src/components/common"}]}