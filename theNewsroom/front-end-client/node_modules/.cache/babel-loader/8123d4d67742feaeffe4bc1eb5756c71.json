{"remainingRequest":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/babel-loader/lib/index.js!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/eslint-loader/index.js??ref--13-0!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/src/auth/index.js","dependencies":[{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/src/auth/index.js","mtime":1605486396829},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbGlhbWRhbGUvT25lRHJpdmUvVW5pL0NPTVAvMjBUMy9jYXBzdG9uZS1wcm9qZWN0LWNvbXAzOTAwLXcxN2EtMjEyLW1vbm9saXRoL3RoZU5ld3Nyb29tL2Zyb250LWVuZC1jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gIi9Vc2Vycy9saWFtZGFsZS9PbmVEcml2ZS9VbmkvQ09NUC8yMFQzL2NhcHN0b25lLXByb2plY3QtY29tcDM5MDAtdzE3YS0yMTItbW9ub2xpdGgvdGhlTmV3c3Jvb20vZnJvbnQtZW5kLWNsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBjcmVhdGVBdXRoMENsaWVudCBmcm9tICJAYXV0aDAvYXV0aDAtc3BhLWpzIjsKLyoqIERlZmluZSBhIGRlZmF1bHQgYWN0aW9uIHRvIHBlcmZvcm0gYWZ0ZXIgYXV0aGVudGljYXRpb24gKi8KCnZhciBERUZBVUxUX1JFRElSRUNUX0NBTExCQUNLID0gZnVuY3Rpb24gREVGQVVMVF9SRURJUkVDVF9DQUxMQkFDSygpIHsKICByZXR1cm4gd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBkb2N1bWVudC50aXRsZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTsKfTsKCnZhciBpbnN0YW5jZTsKLyoqIFJldHVybnMgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgdGhlIFNESyAqLwoKZXhwb3J0IHZhciBnZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIGdldEluc3RhbmNlKCkgewogIHJldHVybiBpbnN0YW5jZTsKfTsKLyoqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIEF1dGgwIFNESy4gSWYgb25lIGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZCwgaXQgcmV0dXJucyB0aGF0IGluc3RhbmNlICovCgpleHBvcnQgdmFyIHVzZUF1dGgwID0gZnVuY3Rpb24gdXNlQXV0aDAoX3JlZikgewogIHZhciBfcmVmJG9uUmVkaXJlY3RDYWxsYmEgPSBfcmVmLm9uUmVkaXJlY3RDYWxsYmFjaywKICAgICAgb25SZWRpcmVjdENhbGxiYWNrID0gX3JlZiRvblJlZGlyZWN0Q2FsbGJhID09PSB2b2lkIDAgPyBERUZBVUxUX1JFRElSRUNUX0NBTExCQUNLIDogX3JlZiRvblJlZGlyZWN0Q2FsbGJhLAogICAgICBfcmVmJHJlZGlyZWN0VXJpID0gX3JlZi5yZWRpcmVjdFVyaSwKICAgICAgcmVkaXJlY3RVcmkgPSBfcmVmJHJlZGlyZWN0VXJpID09PSB2b2lkIDAgPyB3aW5kb3cubG9jYXRpb24ub3JpZ2luIDogX3JlZiRyZWRpcmVjdFVyaSwKICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbIm9uUmVkaXJlY3RDYWxsYmFjayIsICJyZWRpcmVjdFVyaSJdKTsKCiAgaWYgKGluc3RhbmNlKSByZXR1cm4gaW5zdGFuY2U7IC8vIFRoZSAnaW5zdGFuY2UnIGlzIHNpbXBseSBhIFZ1ZSBvYmplY3QKCiAgaW5zdGFuY2UgPSBuZXcgVnVlKHsKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLAogICAgICAgIHVzZXI6IHt9LAogICAgICAgIGF1dGgwQ2xpZW50OiBudWxsLAogICAgICAgIHBvcHVwT3BlbjogZmFsc2UsCiAgICAgICAgZXJyb3I6IG51bGwKICAgICAgfTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIC8qKiBBdXRoZW50aWNhdGVzIHRoZSB1c2VyIHVzaW5nIGEgcG9wdXAgd2luZG93ICovCiAgICAgIGxvZ2luV2l0aFBvcHVwOiBmdW5jdGlvbiBsb2dpbldpdGhQb3B1cChvKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX3RoaXMucG9wdXBPcGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXV0aDBDbGllbnQubG9naW5XaXRoUG9wdXAobyk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICAgIF90aGlzLnBvcHVwT3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDkpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF1dGgwQ2xpZW50LmdldFVzZXIoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgICBfdGhpcy51c2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgX3RoaXMuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgNiwgOSwgMTJdXSk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0sCgogICAgICAvKiogSGFuZGxlcyB0aGUgY2FsbGJhY2sgd2hlbiBsb2dnaW5nIGluIHVzaW5nIGEgcmVkaXJlY3QgKi8KICAgICAgaGFuZGxlUmVkaXJlY3RDYWxsYmFjazogZnVuY3Rpb24gaGFuZGxlUmVkaXJlY3RDYWxsYmFjaygpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfdGhpczIubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmF1dGgwQ2xpZW50LmhhbmRsZVJlZGlyZWN0Q2FsbGJhY2soKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hdXRoMENsaWVudC5nZXRVc2VyKCk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICBfdGhpczIudXNlciA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgICBfdGhpczIuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3IgPSBfY29udGV4dDIudDA7CgogICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvZ2dlZCBpbicpOwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCgxMyk7CgogICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgMTAsIDEzLCAxN11dKTsKICAgICAgICB9KSkoKTsKICAgICAgfSwKCiAgICAgIC8qKiBBdXRoZW50aWNhdGVzIHRoZSB1c2VyIHVzaW5nIHRoZSByZWRpcmVjdCBtZXRob2QgKi8KICAgICAgbG9naW5XaXRoUmVkaXJlY3Q6IGZ1bmN0aW9uIGxvZ2luV2l0aFJlZGlyZWN0KG8pIHsKICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5sb2dpbldpdGhSZWRpcmVjdChvKTsKICAgICAgfSwKCiAgICAgIC8qKiBBdXRoZW50aWNhdGVzIHRoZSB1c2VyIHVzaW5nIHRoZSByZWRpcmVjdCBtZXRob2QgKi8KICAgICAgbG9naW5XaXRoT3ZlcmxheTogZnVuY3Rpb24gbG9naW5XaXRoT3ZlcmxheShvKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQubG9naW5XaXRoT3ZlcmxheShvKTsKICAgICAgfSwKCiAgICAgIC8qKiBSZXR1cm5zIGFsbCB0aGUgY2xhaW1zIHByZXNlbnQgaW4gdGhlIElEIHRva2VuICovCiAgICAgIGdldElkVG9rZW5DbGFpbXM6IGZ1bmN0aW9uIGdldElkVG9rZW5DbGFpbXMobykgewogICAgICAgIHJldHVybiB0aGlzLmF1dGgwQ2xpZW50LmdldElkVG9rZW5DbGFpbXMobyk7CiAgICAgIH0sCgogICAgICAvKiogUmV0dXJucyB0aGUgYWNjZXNzIHRva2VuLiBJZiB0aGUgdG9rZW4gaXMgaW52YWxpZCBvciBtaXNzaW5nLCBhIG5ldyBvbmUgaXMgcmV0cmlldmVkICovCiAgICAgIGdldFRva2VuU2lsZW50bHk6IGZ1bmN0aW9uIGdldFRva2VuU2lsZW50bHkobykgewogICAgICAgIHJldHVybiB0aGlzLmF1dGgwQ2xpZW50LmdldFRva2VuU2lsZW50bHkobyk7CiAgICAgIH0sCgogICAgICAvKiogR2V0cyB0aGUgYWNjZXNzIHRva2VuIHVzaW5nIGEgcG9wdXAgd2luZG93ICovCiAgICAgIGdldFRva2VuV2l0aFBvcHVwOiBmdW5jdGlvbiBnZXRUb2tlbldpdGhQb3B1cChvKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQuZ2V0VG9rZW5XaXRoUG9wdXAobyk7CiAgICAgIH0sCgogICAgICAvKiogTG9ncyB0aGUgdXNlciBvdXQgYW5kIHJlbW92ZXMgdGhlaXIgc2Vzc2lvbiBvbiB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgKi8KICAgICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQobykgewogICAgICAgIHJldHVybiB0aGlzLmF1dGgwQ2xpZW50LmxvZ291dChvKTsKICAgICAgfQogICAgfSwKCiAgICAvKiogVXNlIHRoaXMgbGlmZWN5Y2xlIG1ldGhvZCB0byBpbnN0YW50aWF0ZSB0aGUgU0RLIGNsaWVudCAqLwogICAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMyRhdXRoMENsLCBhcHBTdGF0ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdXRoMENsaWVudCh7CiAgICAgICAgICAgICAgICAgIGRvbWFpbjogb3B0aW9ucy5kb21haW4sCiAgICAgICAgICAgICAgICAgIGNsaWVudF9pZDogb3B0aW9ucy5jbGllbnRJZCwKICAgICAgICAgICAgICAgICAgYXVkaWVuY2U6IG9wdGlvbnMuYXVkaWVuY2UsCiAgICAgICAgICAgICAgICAgIHJlZGlyZWN0X3VyaTogcmVkaXJlY3RVcmkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczMuYXV0aDBDbGllbnQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzsKCiAgICAgICAgICAgICAgICBpZiAoISh3aW5kb3cubG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKCJjb2RlPSIpICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoInN0YXRlPSIpKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmF1dGgwQ2xpZW50LmhhbmRsZVJlZGlyZWN0Q2FsbGJhY2soKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMyRhdXRoMENsID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBhcHBTdGF0ZSA9IF95aWVsZCRfdGhpczMkYXV0aDBDbC5hcHBTdGF0ZTsKICAgICAgICAgICAgICAgIC8vIE5vdGlmeSBzdWJzY3JpYmVycyB0aGF0IHRoZSByZWRpcmVjdCBjYWxsYmFjayBoYXMgaGFwcGVuZWQsIHBhc3NpbmcgdGhlIGFwcFN0YXRlCiAgICAgICAgICAgICAgICAvLyAodXNlZnVsIGZvciByZXRyaWV2aW5nIGFueSBwcmUtYXV0aGVudGljYXRpb24gc3RhdGUpCiAgICAgICAgICAgICAgICBvblJlZGlyZWN0Q2FsbGJhY2soYXBwU3RhdGUpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgzKTsKICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvciA9IF9jb250ZXh0My50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5hdXRoMENsaWVudC5pc0F1dGhlbnRpY2F0ZWQoKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF90aGlzMy5pc0F1dGhlbnRpY2F0ZWQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmF1dGgwQ2xpZW50LmdldFVzZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF90aGlzMy51c2VyID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMTUpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzMsIDEyLCAxNSwgMjRdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0pOwogIHJldHVybiBpbnN0YW5jZTsKfTsgLy8gQ3JlYXRlIGEgc2ltcGxlIFZ1ZSBwbHVnaW4gdG8gZXhwb3NlIHRoZSB3cmFwcGVyIG9iamVjdCB0aHJvdWdob3V0IHRoZSBhcHBsaWNhdGlvbgoKZXhwb3J0IHZhciBBdXRoMFBsdWdpbiA9IHsKICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKFZ1ZSwgb3B0aW9ucykgewogICAgVnVlLnByb3RvdHlwZS4kYXV0aCA9IHVzZUF1dGgwKG9wdGlvbnMpOwogIH0KfTs="},{"version":3,"sources":["/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/theNewsroom/front-end-client/src/auth/index.js"],"names":["Vue","createAuth0Client","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","instance","getInstance","useAuth0","onRedirectCallback","redirectUri","origin","options","data","loading","isAuthenticated","user","auth0Client","popupOpen","error","methods","loginWithPopup","o","console","getUser","handleRedirectCallback","log","loginWithRedirect","loginWithOverlay","getIdTokenClaims","getTokenSilently","getTokenWithPopup","logout","created","domain","client_id","clientId","audience","redirect_uri","search","includes","appState","Auth0Plugin","install","prototype","$auth"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\n\n\n/** Define a default action to perform after authentication */\nconst DEFAULT_REDIRECT_CALLBACK = () =>\n  window.history.replaceState({}, document.title, window.location.pathname);\n\nlet instance;\n\n/** Returns the current instance of the SDK */\nexport const getInstance = () => instance;\n\n\n\n/** Creates an instance of the Auth0 SDK. If one has already been created, it returns that instance */\nexport const useAuth0 = ({\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n  redirectUri = window.location.origin,\n  ...options\n}) => {\n  if (instance) return instance;\n\n  // The 'instance' is simply a Vue object\n  instance = new Vue({\n    data() {\n      return {\n        loading: true,\n        isAuthenticated: false,\n        user: {},\n        auth0Client: null,\n        popupOpen: false,\n        error: null\n      };\n    },\n    methods: {\n      /** Authenticates the user using a popup window */\n      async loginWithPopup(o) {\n        this.popupOpen = true;\n\n        try {\n          await this.auth0Client.loginWithPopup(o);\n        } catch (e) {\n          // eslint-disable-next-line\n          console.error(e);\n        } finally {\n          this.popupOpen = false;\n        }\n\n        this.user = await this.auth0Client.getUser();\n        this.isAuthenticated = true;\n      },\n      /** Handles the callback when logging in using a redirect */\n      async handleRedirectCallback() {\n        this.loading = true;\n        try {\n          await this.auth0Client.handleRedirectCallback();\n          this.user = await this.auth0Client.getUser();\n          this.isAuthenticated = true;\n          \n        } catch (e) {\n          this.error = e;\n        } finally {\n          this.loading = false;\n          console.log('logged in')\n        }\n      },\n    \n      /** Authenticates the user using the redirect method */\n      loginWithRedirect(o) {\n        return this.auth0Client.loginWithRedirect(o);\n      },\n      /** Authenticates the user using the redirect method */\n      loginWithOverlay(o) {\n        return this.auth0Client.loginWithOverlay(o);\n      },\n      /** Returns all the claims present in the ID token */\n      getIdTokenClaims(o) {\n        return this.auth0Client.getIdTokenClaims(o);\n      },\n      /** Returns the access token. If the token is invalid or missing, a new one is retrieved */\n      getTokenSilently(o) {\n        return this.auth0Client.getTokenSilently(o);\n      },\n      /** Gets the access token using a popup window */\n\n      getTokenWithPopup(o) {\n        return this.auth0Client.getTokenWithPopup(o);\n      },\n      /** Logs the user out and removes their session on the authorization server */\n      logout(o) {\n        return this.auth0Client.logout(o);\n      }\n    },\n    /** Use this lifecycle method to instantiate the SDK client */\n    async created() {\n      // Create a new instance of the SDK client using members of the given options object\n      this.auth0Client = await createAuth0Client({\n        domain: options.domain,\n        client_id: options.clientId,\n        audience: options.audience,\n        redirect_uri: redirectUri,\n      });\n\n      try {\n        // If the user is returning to the app after authentication..\n        if (\n          window.location.search.includes(\"code=\") &&\n          window.location.search.includes(\"state=\")\n        ) {\n          // handle the redirect and retrieve tokens\n          const { appState } = await this.auth0Client.handleRedirectCallback();\n\n          // Notify subscribers that the redirect callback has happened, passing the appState\n          // (useful for retrieving any pre-authentication state)\n          onRedirectCallback(appState);\n        }\n      } catch (e) {\n        this.error = e;\n      } finally {\n        // Initialize our internal authentication state\n        this.isAuthenticated = await this.auth0Client.isAuthenticated();\n        this.user = await this.auth0Client.getUser();\n        this.loading = false;\n      }\n    }\n  });\n\n  return instance;\n};\n\n// Create a simple Vue plugin to expose the wrapper object throughout the application\nexport const Auth0Plugin = {\n  install(Vue, options) {\n    Vue.prototype.$auth = useAuth0(options);\n  }\n};\n\n"]}]}