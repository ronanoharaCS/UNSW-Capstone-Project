{"remainingRequest":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/babel-loader/lib/index.js!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/src/components/common/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/src/components/common/Header.vue","mtime":1605530430592},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1YiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saWFtZGFsZS9PbmVEcml2ZS9VbmkvQ09NUC8yMFQzL2NhcHN0b25lLXByb2plY3QtY29tcDM5MDAtdzE3YS0yMTItbW9ub2xpdGgvMjEyTW9ub2xpdGhGaW5hbFNvZnR3YXJlUXVhbGl0eS90aGVOZXdzcm9vbS9mcm9udC1lbmQtY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENSRUFURV9VU0VSIGZyb20gJy4uLy4uL2dyYXBocWwvY3JlYXRlVXNlci5ncWwnOwppbXBvcnQgQ0hFQ0tfVVNFUiBmcm9tICcuLi8uLi9ncmFwaHFsL2NoZWNrVXNlci5ncWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhlYWRlciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF1dGg6IHRydWUsCiAgICAgIGRyYXdlcjogZmFsc2UsCiAgICAgIHNhdmVkOiB7CiAgICAgICAgaWNvbjogJ3NhdmVkJywKICAgICAgICB0aXRsZTogJ1NhdmVkIFRyZW5kcycsCiAgICAgICAgcm91dGU6ICcvc2F2ZWQnCiAgICAgIH0sCiAgICAgIG1lbnU6IFt7CiAgICAgICAgaWNvbjogJ3RvcGljcycsCiAgICAgICAgdGl0bGU6ICdUb3BpY3MnLAogICAgICAgIHJvdXRlOiAnL3RvcGljcycKICAgICAgfSwgewogICAgICAgIGljb246ICd0cmVuZHMnLAogICAgICAgIHRpdGxlOiAnVHJlbmRzJywKICAgICAgICByb3V0ZTogJy90cmVuZHMnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgYXBvbGxvOiB7CiAgICB1c2VyOiB7CiAgICAgIHF1ZXJ5OiBDSEVDS19VU0VSLAogICAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdXNlcklkOiB0aGlzLiRhdXRoLnVzZXIuc3ViCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZGF0YSkgewogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9LAogICAgICBza2lwOiBmdW5jdGlvbiBza2lwKCkgewogICAgICAgIHJldHVybiB0aGlzLnNraXBRdWVyeTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlVXNlcjogZnVuY3Rpb24gY3JlYXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHVzZXJJZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VySWQgPSBfdGhpcy4kYXV0aC51c2VyLnN1YjsKICAgICAgICAgICAgICAgIF90aGlzLiRhcG9sbG8ucXVlcmllcy51c2VyLnNraXAgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRhcG9sbG8ucXVlcmllcy51c2VyLnJlZmV0Y2goKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKF90aGlzLnVzZXIuYWxsVXNlcnMubm9kZXMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgICAgICAgICAgICAgIG11dGF0aW9uOiBDUkVBVEVfVVNFUiwKICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJOZXcgVXNlcjogIiwgdXNlcklkKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFeGlzdGluZyBVc2VyOiAiLCB1c2VySWQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRhdXRoLmxvZ2luV2l0aFBvcHVwKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMi5jcmVhdGVVc2VyKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB0aGlzLiRhdXRoLmxvZ291dCh7CiAgICAgICAgcmV0dXJuVG86IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,OAAA,WAAA,MAAA,8BAAA;AACA,OAAA,UAAA,MAAA,6BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA,cAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAHA;AAQA,MAAA,IAAA,EAAA,CAAA;AACA,QAAA,IAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA,QAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAAA,EAKA;AACA,QAAA,IAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA,QAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OALA;AARA,KAAA;AAAA,GAFA;AAsBA,EAAA,MAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,KAAA,EAAA,UADA;AAEA,MAAA,SAFA,uBAEA;AACA,eAAA;AACA,UAAA,MAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA;AADA,SAAA;AAGA,OANA;AAOA,MAAA,MAPA,kBAOA,IAPA,EAOA;AACA,eAAA,IAAA;AACA,OATA;AAUA,MAAA,IAVA,kBAUA;AACA,eAAA,KAAA,SAAA;AACA;AAZA;AADA,GAtBA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GADA;AAEA,gBAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA,GAAA,KAAA;AAFA;AAAA,uBAGA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA,EAHA;;AAAA;AAIA,oBAAA,KAAA,CAAA,IAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,oBAAA,QAAA,EAAA,WADA;AAEA,oBAAA,SAAA,EAAA;AACA,sBAAA,MAAA,EAAA;AADA;AAFA,mBAAA;;AAMA,kBAAA,OAAA,CAAA,GAAA,CAAA,YAAA,EAAA,MAAA;AACA,iBARA,MAQA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MAAA;AACA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,KAjBA;AAkBA,IAAA,KAlBA,mBAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,cAAA,EADA;;AAAA;AAEA,gBAAA,MAAA,CAAA,UAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KArBA;AAsBA,IAAA,MAtBA,oBAsBA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AADA,OAAA;AAGA;AA1BA;AAtCA,CAAA","sourcesContent":["<template>\n<v-toolbar class=\"toolbar\" fixed flat max-height=\"65\" dark>\n    <v-btn text>\n        <v-toolbar-title class=\"text-uppercase\">\n            <router-link to=\"/\">\n                <span class=\"font-weight-light white--text\">The</span>\n                <span class=\"white--text\">Newsroom</span>\n            </router-link>\n        </v-toolbar-title>\n    </v-btn>\n    <v-spacer />\n\n    <!-- Full screen size -->\n    <v-toolbar-items class=\"d-none d-md-block\">\n        <v-btn text depressed to='/topics'>Topics</v-btn>\n        <v-btn text depressed to='/trends'>Trends</v-btn>\n        <v-btn text depressed v-if=\"!$auth.loading && !$auth.isAuthenticated\" @click=\"login\">Log In / Register</v-btn>\n        <v-btn v-if=\"!$auth.loading && $auth.isAuthenticated\" depressed to='/saved'>Saved</v-btn>\n        <v-btn v-if=\"!$auth.loading && $auth.isAuthenticated\" text depressed @click=\"logout\">Log Out</v-btn>\n\n    </v-toolbar-items>\n\n    <!-- Small screen size -->\n    <div class=\"d-md-none\">\n        <v-menu>\n            <template v-slot:activator=\"{ on }\">\n                <v-app-bar-nav-icon v-on=\"on\" />\n            </template>\n            <v-list class=\"responsiveMenu\" size=\"auto\">\n                <v-list-item text v-for=\"item in menu\" :key=\"item.icon\" :to=\"item.route\" depressed v-text='item.title' />\n                <template v-if=\"!$auth.loading && !$auth.isAuthenticated\">\n                    <v-list-item text @click=\"login\">\n                        Log In\n                    </v-list-item>\n                    <v-list-item text @click=\"login\">\n                        Register\n                    </v-list-item>\n                </template>\n                <template v-else>\n                    <v-list-item text to='/saved'>\n                        Saved\n                    </v-list-item>\n                    <v-list-item text @click=\"logout\">\n                        Log Out\n                    </v-list-item>\n                </template>\n            </v-list>\n        </v-menu>\n    </div>\n\n</v-toolbar>\n</template>\n\n<script>\nimport CREATE_USER from '../../graphql/createUser.gql'\nimport CHECK_USER from '../../graphql/checkUser.gql'\n\nexport default {\n    name: \"Header\",\n    data: () => ({\n        auth: true,\n        drawer: false,\n        saved: {\n            icon: 'saved',\n            title: 'Saved Trends',\n            route: '/saved'\n        },\n        menu: [{\n                icon: 'topics',\n                title: 'Topics',\n                route: '/topics'\n            },\n            {\n                icon: 'trends',\n                title: 'Trends',\n                route: '/trends'\n            },\n        ]\n    }),\n    apollo: {\n        user : {\n            query: CHECK_USER,\n            variables() {\n                return {\n                    userId: this.$auth.user.sub\n                }\n            },\n            update(data) {\n                return data;\n            },\n            skip() {\n                return this.skipQuery\n            },\n        }\n    },\n    methods: {\n        async createUser() {\n            var userId = this.$auth.user.sub\n            this.$apollo.queries.user.skip = false\n            await this.$apollo.queries.user.refetch()\n            if (this.user.allUsers.nodes.length == 0) {\n                this.$apollo.mutate({\n                    mutation: CREATE_USER,\n                    variables: {\n                        userId\n                    }\n                })\n                console.log(\"New User: \", userId)\n            } else {\n                console.log(\"Existing User: \", userId)\n            }\n            \n        },\n        async login() {\n            await this.$auth.loginWithPopup();\n            this.createUser();\n        },\n        logout() {\n            this.$auth.logout({\n                returnTo: window.location.origin\n            });\n        }\n    },\n    \n}\n</script>\n\n<style scoped>\n.v-toolbar.v-toolbar--absolute {\n    width: auto;\n    height: auto;\n}\n</style>\n"],"sourceRoot":"src/components/common"}]}